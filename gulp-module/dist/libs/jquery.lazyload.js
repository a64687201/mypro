!function($){$.fn.lazyload=function(options){var scopeNode=this,opts=$.extend({},$.fn.lazyload.defaults,options);$(document).ready(function(){var imgObjectArray=$.fn.lazyload.filterCache(scopeNode,opts);$.fn.lazyload.batchLoad(imgObjectArray,opts)}),$(window).bind(opts.events,function(){var imgObjectArray=$.fn.lazyload.filterCache(scopeNode,opts);0===imgObjectArray.length&&$(window).unbind(opts.events),$.fn.lazyload.batchLoad(imgObjectArray,opts)}),$(document).bind("keyup",function(event){var imgObjectArray=$.fn.lazyload.filterCache(scopeNode,opts);35===event.which&&($.each(imgObjectArray,function(index,imgObject){$.fn.lazyload.load(imgObject.element,opts)}),$(window).unbind(opts.events))})},$.fn.lazyload.batchLoad=function(imgObjectArray,opts){var scrollTop=$(window).scrollTop(),scrollLeft=$(window).scrollLeft();$.each(imgObjectArray,function(index,imgObject){var validTop=scrollTop+$(window).height()+opts.threshold,validLeft=scrollLeft+$(window).width()+opts.threshold;("vertical"===opts.direction&&validTop>=imgObject.top||"horizontal"===opts.direction&&validLeft>=imgObject.left)&&$.fn.lazyload.load(imgObject.element,opts)})},$.fn.lazyload.filterCache=function(elements,opts){var lazyImgArray=new Array;return $(elements).each(function(index,element){if(($(element).is(":visible")||!opts.ignoreInvisible)&&"IMG"==element.tagName){var dataAttr=$(element).attr(opts.dataAttr);if(dataAttr&&"undefined"!=dataAttr){var src=$(element).attr("src");src&&"undefined"!=src||$(element).attr("src",opts.placeholder);var offset=$(element).offset();lazyImgArray.push({index:index,element:element,left:offset.left,top:offset.top})}}}),lazyImgArray},$.fn.lazyload.load=function(element,opts){$(element).hide(),$(element).attr("src",$(element).attr(opts.dataAttr)).removeAttr(opts.dataAttr),eval("$(element)."+opts.effect+";")},$.fn.lazyload.defaults={events:"scroll.lazyload resize.lazyload",direction:"vertical",endKeyScanAll:!0,threshold:-50,ignoreInvisible:!0,dataAttr:"data-src",effect:"fadeIn(1000)",placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"}}(jQuery);